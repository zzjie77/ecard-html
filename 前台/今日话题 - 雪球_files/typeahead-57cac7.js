define("widget/bootstrap/typeahead.js",[],function(){!function(e){"use strict";var t=function(t,s){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,s),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){if("undefined"!=typeof this.options._select)return this.options._select(this);var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height+this.options.top||0,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),this.query=this.query.replace(/'/g,""),!this.query||this.query.length<this.options.minLength?this.shown?this.show():this:void(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)},process:function(t){var s=this;return t=e.grep(t,function(e){return s.matcher(e)}),this.options.sort!==!1&&(t=this.sorter(t)),this.render(t.slice(0,this.options.items)).show()},matcher:function(e){return this.options.match===!1?e:~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,s=[],i=[],n=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):n.push(t):s.push(t);return s.concat(i,n)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var s=this;return"undefined"!=typeof s.options._render?s.options._render(t,s):(t=e(t).map(function(t,i){return t=e(s.options.item).attr("data-value",i),t.find("a").html(s.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this)},next:function(){var t=this.$menu.find(".active").removeClass("active"),s=t.next("li");s=this.filterNomenu(s,"next"),s.length||(s=e(this.$menu.find("li:not(.no_menu)")[0])),s.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev("li");t=this.filterNomenu(t,"prev"),t.length||(t=this.$menu.find("li:not(.no_menu)").last()),t.addClass("active")},filterNomenu:function(e,t){if(e.hasClass("no_menu")){var s=e[t]("li");return this.filterNomenu(s,t)}return e},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){229===t.keyCode&&this.$element.data("hidden",1),this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(this.$element.data("hidden"))return this.$element.removeData("hidden"),this.focus();this.select(),this.focus();break;case 27:if(!this.shown)return;this.hide();break;case 8:var s=this.$element;s.val()===s.attr("placeholder")||""===e.trim(s.val())?this.hide():this.lookup();break;default:this.$element.removeData("hidden"),this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0,this.lookup()},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var s=e.fn.typeahead;e.fn.typeahead=function(s){return this.each(function(){var i=e(this),n=i.data("typeahead"),o="object"==typeof s&&s;n||i.data("typeahead",n=new t(this,o)),"string"==typeof s&&n[s]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=s,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery)});